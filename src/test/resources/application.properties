# Test Configuration - SQLite in-memory database
spring.application.name=MyBooks-Test

# Test Database (in-memory SQLite)
spring.datasource.url=jdbc:sqlite::memory:
spring.datasource.username=
spring.datasource.password=
spring.datasource.driver-class-name=org.sqlite.JDBC

# JPA/Hibernate configuration
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# Flyway configuration for tests
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.clean-disabled=false

# Disable SSL for tests
server.ssl.enabled=false
server.port=8080

# JWT Configuration (Base64 encoded secret - AT LEAST 256 bits)
jwt.secret=dGVzdC1zZWNyZXQta2V5LWZvci10ZXN0aW5nLW1pbmltdW0tMjU2LWJpdHMtbG9uZy1zZWNyZXQta2V5LXZhbHVlLXRoaXMtaXMtYS12ZXJ5LWxvbmctc2VjcmV0LWtleQ==
jwt.expiration=900000
jwt.refresh.expiration=604800000

# DISABLE RATE LIMITING FOR TESTS
rate.limit.login.enabled=false
rate.limit.register.enabled=false
rate.limit.refresh.enabled=false

# Logging
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=ERROR
logging.level.com.example.mybooks=WARN

# Test Profile
spring.profiles.active=test

# Rate Limiter
rate.limit.enabled=false